<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>setTimeout 和 setInterval小练习</title>
</head>
<body>
<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
<button id="fade-btn">淡出</button>
<script>
    var fade_obj=document.getElementById('fade-obj');
    var fade_btn=document.getElementById('fade-btn');
    var x=1;
    function danchu() {
        fade_obj.style.opacity=x;
        x=x-0.1;
        fade_btn.disabled=true;
        if (x>0){
            setTimeout(danchu,100);
        }else {
            fade_obj.style.opacity=0;
            fade_btn.innerText='淡入'
            fade_btn.disabled=false;
        }

    }
    function danru(){
        fade_obj.style.opacity=x;
        x=x+0.1;
        fade_btn.disabled=true;
        if (x<1){
            setTimeout(danru,100);
        }else {
            fade_obj.style.opacity=1;
            fade_btn.innerText='淡出';
            fade_btn.disabled=false;
        }

    }

    document.getElementById('fade-btn').onclick=function () {
        if (fade_btn.innerText==='淡出'){
          // setTimeout方法
          //  danchu();
          // setInterval方法
            time=setInterval(fadeout,100);
        }
        if (fade_btn.innerText==='淡入'){
            // setTimeout方法
           // danru();
            // setInterval方法
            time=setInterval(fadein,100);
        }

    }
    var time;
    function fadeout() {
        fade_obj.style.opacity=x;
        x=x-0.1;
        fade_btn.disabled=true;
        if (x<=0){
            fade_obj.style.opacity=0;
            fade_btn.innerText='淡入'
            fade_btn.disabled=false;
            clearInterval(time);
        }
    }
    function fadein() {
        fade_obj.style.opacity=x;
        x=x+0.1;
        fade_btn.disabled=true;
        if (x>=1){
            fade_obj.style.opacity=1;
            fade_btn.innerText='淡出'
            fade_btn.disabled=false;
            clearInterval(time);
        }
    }


</script>
</body>
</html>